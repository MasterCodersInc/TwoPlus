[{"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/index.js":"1","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/reportWebVitals.js":"2","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/App.js":"3","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/firebase.js":"4","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/Editor.js":"5","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/theme.js":"6","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/SignUp.js":"7","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/Landing.js":"8","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/Login.js":"9","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/UserProfile.js":"10","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/PrivateRoute.js":"11","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/ForgotPassword.js":"12","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/contexts/AuthContext.js":"13","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/ChatRoom.js":"14","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/ChatMsg.js":"15"},{"size":500,"mtime":1612031649343,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1612031649344,"results":"18","hashOfConfig":"17"},{"size":1441,"mtime":1612146880019,"results":"19","hashOfConfig":"17"},{"size":715,"mtime":1612123396997,"results":"20","hashOfConfig":"17"},{"size":2685,"mtime":1612145276457,"results":"21","hashOfConfig":"17"},{"size":880,"mtime":1612123396991,"results":"22","hashOfConfig":"17"},{"size":4123,"mtime":1612129815308,"results":"23","hashOfConfig":"17"},{"size":94,"mtime":1612129815307,"results":"24","hashOfConfig":"17"},{"size":3739,"mtime":1612157109701,"results":"25","hashOfConfig":"17"},{"size":155,"mtime":1612155988348,"results":"26","hashOfConfig":"17"},{"size":464,"mtime":1612129815308,"results":"27","hashOfConfig":"17"},{"size":3011,"mtime":1612129815306,"results":"28","hashOfConfig":"17"},{"size":1135,"mtime":1612129815309,"results":"29","hashOfConfig":"17"},{"size":2421,"mtime":1612212799389,"results":"30","hashOfConfig":"17"},{"size":1553,"mtime":1612200106908,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1moabx4",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/index.js",[],["64","65"],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/reportWebVitals.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/App.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/firebase.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/Editor.js",["66","67","68","69"],"import React, { useEffect, useRef, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport firebase from \"./firebase\";\n\nconst firestore = firebase.firestore();\nconst docRef = firestore.collection('collabData').doc('user1');\n\nconst Editor = (props) => {\n  const reactAceRef = useRef(null);\n  const [code, setCode] = useState('I AM CODE');\n  let editor = useRef(null);\n  let i = 0;\n  //change in the editor\n  //ROUTE A\n  //1. send editor changes to the database\n  //2. when database data changes, listener triggers\n  //3. useEffect() which would change state of code\n  //\n\n  //componentDidMount\n  useEffect( async () => {\n    editor.current = reactAceRef.current.editor;\n    const snapshot = await docRef.get();\n    console.log('get from table', snapshot)\n    editor.current.setValue(snapshot.data().newData, 1)\n  },[])\n\n  //ROUTE B\n  //1. send editor changes and update state\n  //2. when state updates, send to database\n  //3. when database data changes, listener triggers\n  //4. CHECK if the editor's current value = state\n    //4a. If YES, do NOTHING! \n    //4b. Else, editor.setValue(state, 1)  \n\nasync function onChangeHandler (newData, event){\n  console.log('FROM ONCHANGEHANDLER', newData)\n  const snapshot = await docRef.get();\n  if(newData !== snapshot.data().newData){\n    sendToFirebase(newData)\n  }\n}\n\n// useEffect(() => {\n  \n// }, [code])\n\n// timestamp \n\nfunction sendToFirebase(updatedData) {\n  console.log('befor we set the data' ,updatedData)\n  docRef.set({newData: updatedData})\n \n}\n\n\n  docRef.onSnapshot((doc) => {\n    if(editor.current){\n      console.log('CHECKING SNAPSHOT METHOD: editor', editor.current.getValue(), 'newData', doc.data().newData)\n      if(editor.current.getValue() !== doc.data().newData){\n        editor.current.setValue(doc.data().newData, 1)\n      } else{\n        return;\n      }\n    }\n  })\n\n  // docRef.onSnapshot((doc) => {\n  //   console.log('editors current value', editor.current.getValue())\n  //   if(editor.current.getValue() !== doc.newData){\n  //     console.log('doc', doc, 'editor.current.getValue()', editor.current.getValue())\n  //     editor.current.setValue(doc, 1);\n  //   }\n  //   if(i < 2){\n      \n  //     i++;\n  //   }\n    \n  //   // if(editor.current.getValue() !== code){\n  //   //   editor.current.setValue(code, 1)\n  //   // }\n  // })\n\n\n  return (\n    <div>\n      <AceEditor ref={reactAceRef} mode=\"javascript\" theme=\"chaos\" \n        onChange={onChangeHandler}\n        />\n      <button\n        onClick={() => {\n          sendToFirebase(editor.current.getValue());\n        }}\n      >\n        Get Code?\n      </button>\n      <div>GHIYA I AM NOT IN THE ACE EDITOR</div>\n    </div>\n  );\n};\n\nexport default Editor;\n","/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/theme.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/SignUp.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/Landing.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/Login.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/UserProfile.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/PrivateRoute.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/ForgotPassword.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/contexts/AuthContext.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/ChatRoom.js",[],"/Users/mati/Desktop/2011-SR-Phase/capstone/TwoPlus/src/components/ChatMsg.js",[],{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":10,"column":10,"nodeType":"76","messageId":"77","endLine":10,"endColumn":14},{"ruleId":"74","severity":1,"message":"78","line":10,"column":16,"nodeType":"76","messageId":"77","endLine":10,"endColumn":23},{"ruleId":"74","severity":1,"message":"79","line":12,"column":7,"nodeType":"76","messageId":"77","endLine":12,"endColumn":8},{"ruleId":"80","severity":1,"message":"81","line":21,"column":14,"nodeType":"82","endLine":26,"endColumn":4},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'code' is assigned a value but never used.","Identifier","unusedVar","'setCode' is assigned a value but never used.","'i' is assigned a value but never used.","react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","no-global-assign","no-unsafe-negation"]